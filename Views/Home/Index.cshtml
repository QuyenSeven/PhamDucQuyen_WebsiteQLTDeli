
@{
    ViewBag.Title = "Home";
    Layout = "~/Views/Shared/_LayoutWeb.cshtml";
}

<style>
    #suggestions {
        max-height: 200px;
        overflow-y: auto;
        z-index: 10;
        border: 1px solid #ddd;
        background-color: white;
        width: 100%;
    }

        #suggestions div {
            padding: 10px;
            cursor: pointer;
        }

            #suggestions div:hover {
                background-color: #f0f0f0;
            }
</style>
<div class="bg-gray-100 overflow-y-auto h-full invisible-scrollbar">
    <!-- Hero Section -->
    <!-- SwiperJS CSS -->


    <section class="relative w-full">
        <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                @{
                    var slide1Url = QLyNhaHangTDeli.Services.ImageHelper.GetImageUrl("banner-1", Url);
                    var slide2Url = QLyNhaHangTDeli.Services.ImageHelper.GetImageUrl("banner-2", Url);
                    var slide3Url = QLyNhaHangTDeli.Services.ImageHelper.GetImageUrl("banner-3", Url);
                    var slide4Url = QLyNhaHangTDeli.Services.ImageHelper.GetImageUrl("banner-4", Url);
                    var slide5Url = QLyNhaHangTDeli.Services.ImageHelper.GetImageUrl("banner-5", Url);
                    var slide6Url = QLyNhaHangTDeli.Services.ImageHelper.GetImageUrl("banner-6", Url);
                    var slide7Url = QLyNhaHangTDeli.Services.ImageHelper.GetImageUrl("banner-7", Url);
                    var slide8Url = QLyNhaHangTDeli.Services.ImageHelper.GetImageUrl("banner-8", Url);
                }
                <!-- Slide 1 -->
                <div class="swiper-slide bg-cover bg-center text-white py-20" style="background-image: url('@slide1Url');">
                    <div class="container ml-5 text-left bg-black bg-opacity-40 p-4 rounded w-[15rem] md:w-[30rem] mt-10">
                        <h1 class="text-xl md:text-5xl font-bold mb-4">Buổi Sáng Trọn Vẹn Bắt Đầu Từ Một Tách Cà Phê</h1>
                        <p class="text-sm md:text-xl mb-8">Đậm đà – Ngọt ngào – Đậm chất TDeli</p>
                        <a href="/Products/MenuView" class="inline-block bg-white text-black font-semibold px-6 py-3 rounded-full hover:bg-yellow-300 transition duration-300">
                            Đặt ngay
                        </a>
                    </div>
                </div>

                <!-- Slide 2 -->
                <div class="swiper-slide bg-cover bg-center text-white py-20" style="background-image: url('@slide2Url');">
                    <div class="container ml-5 text-left bg-black bg-opacity-40 p-4 rounded w-[15rem] md:w-[30rem] mt-10">
                        <h1 class="text-xl md:text-5xl font-bold mb-4"> Tdeli – Trà cho Tâm An </h1>
                        <p class="text-sm md:text-xl mb-8">Thưởng thức tinh hoa trà Việt giữa không gian an yên & thanh tịnh, thưởng trà – thư giãn tâm hồn, chạm đến an nhiên </p>

                    </div>
                </div>

                <!-- Slide 3 -->
                <div class="swiper-slide bg-cover bg-center text-white py-20" style="background-image: url('@slide3Url');">
                    <div class="container ml-5 text-left bg-black bg-opacity-40 p-4 rounded w-[15rem] md:w-[30rem] mt-10">
                        <h1 class="text-xl md:text-5xl font-bold mb-4"> Tdeli Coffee – Tỉnh Thức Từng Khoảnh Khắc</h1>
                        <p class="text-sm md:text-xl mb-8">Hạt cà phê rang mộc – Đậm đà, nguyên chất – Đánh thức mọi giác quan </p>

                    </div>
                </div>

                <div class="swiper-slide bg-cover bg-center text-white py-20" style="background-image: url('@slide4Url');">
                    <div class="container ml-auto mr-5 text-left bg-black bg-opacity-40 p-4 rounded w-[15rem] md:w-[30rem] mt-10">
                        <h1 class="text-xl md:text-5xl font-bold mb-4"> Một tách trà – Một phút lặng yên.</h1>
                        <p class="text-sm md:text-xl mb-8">Giữa nhịp sống vội vã, hãy ghé Tdeli và thưởng thức một tách trà – nơi những suy nghĩ được lắng đọng, tâm hồn được chữa lành.</p>
                        <a href="/Complaints/ComplaintForm" class="inline-block bg-white text-black font-semibold px-6 py-3 rounded-full hover:bg-yellow-300 transition duration-300">
                            Đến ngay
                        </a>
                    </div>
                </div>

                <div class="swiper-slide bg-cover bg-center text-white py-20" style="background-image: url('@slide6Url');">
                    <div class="container ml-5 text-left bg-black bg-opacity-40 p-4 rounded w-[15rem] md:w-[30rem] mt-10">
                        <h1 class="text-xl md:text-5xl font-bold mb-4">Ba người, ba vị, một niềm vui.</h1>
                        <p class="text-sm md:text-xl mb-8">Cà phê không chỉ là một thức uống, mà còn là cầu nối gắn kết tình bạn, tạo nên những kỷ niệm đáng nhớ.</p>

                    </div>
                </div>

                <div class="swiper-slide bg-cover bg-center text-white py-20" style="background-image: url('@slide5Url');">
                    <div class="container ml-5 text-left bg-black bg-opacity-40 p-4 rounded w-[15rem] md:w-[40rem] mt-10">
                        <h1 class="text-xl md:text-5xl font-bold mb-4"> Trải nghiệm hương trà, tận hưởng cuộc sống trọn vẹn.</h1>
                        <p class="text-sm md:text-xl mb-8">Không gian yên tĩnh và sang trọng giúp bạn tạm quên đi những lo toan của cuộc sống, tập trung vào việc thư giãn và tận hưởng.</p>
                        <a href="/Posts/PostView" class="inline-block bg-white text-black font-semibold px-6 py-3 rounded-full hover:bg-yellow-300 transition duration-300">
                            Khám phá
                        </a>
                    </div>
                </div>


                <div class="swiper-slide bg-cover bg-center text-white py-20" style="background-image: url('@slide7Url');">
                    <div class="container ml-5 text-left bg-black bg-opacity-40 p-4 rounded w-[15rem] md:w-[40rem] mt-10">
                        <div class="flex items-start justify-start p-6">
                            <div>
                                <h1 class="text-xl md:text-5xl font-extrabold mb-4 drop-shadow-lg">Thưởng Thức Sự Tinh Tế Trong Từng Tách</h1>
                                <p class="text-sm md:text-xl mb-6 drop-shadow">Một buổi sáng hoàn hảo bắt đầu từ hương vị đậm đà – TDeli Chocolate & Coffee</p>
                                <a href="/menu" class="inline-block bg-white text-black font-semibold px-6 py-3 rounded-full hover:bg-yellow-300 transition duration-300">
                                    Xem Menu
                                </a>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="swiper-slide bg-cover bg-center text-white py-20" style="background-image: url('@slide8Url');">
                    <div class="container ml-5 text-left bg-black bg-opacity-40 p-4 rounded w-[15rem]  md:w-[40rem] mt-10">
                        <h1 class="text-xl md:text-5xl font-bold mb-4">Tinh hoa trà Việt, lan tỏa hương vị cuộc sống.</h1>
                        <p class="text-sm md:text-xl mb-8">
                            Trà không chỉ là một thức uống, mà còn là một nét văn hóa, một nghệ thuật thưởng thức. Màu sắc ấm áp và ánh sáng dịu nhẹ tạo nên một không gian thư thái, giúp người thưởng trà cảm thấy an yên và tĩnh lặng.
                        </p>

                    </div>
                </div>
            </div>



            <!-- Pagination dots -->
            <div class="swiper-pagination"></div>
        </div>
    </section>

    <!-- Tìm kiếm -->
    <section class="py-2">
        <div class="flex flex-col items-center justify-center h-64 bg-white ">
            <div class="text-center text-black relative">
                <h1 class="text-4xl font-bold mb-4 text-black">
                    Tìm kiếm thứ bạn yêu thích
                </h1>
                <p class="mb-6 text-black">
                    Bạn cần điều gì ở tôi?
                </p>
                <div class="flex justify-center items-center h-10">
                    <input class="p-3 rounded-l-lg w-40 md:w-96 border border-b " placeholder="Tìm kiếm............" type="text" id="search-input" />
                    <p class="bg-green-500 text-white p-3 rounded-r-lg">
                        Tìm kiếm
                    </p>
                </div>
                <div id="suggestions" class="absolute w-full bg-white border mt-1 hidden invisible-scrollbar"></div>
            </div>

        </div>
    </section>
    <!-- Our Menu -->
    <section class="bg-gray-800 text-white py-12">
        <div class="container mx-auto py-12">
            <h1 class="text-center text-4xl font-bold text-green-500 mb-4">
                Danh mục sản phẩm tiêu biểu
            </h1>
            <h2 class="text-center text-2xl mb-8">
                Tận hưởng các thức uống ở đây
            </h2>
            <div id="product-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 ml-10">
                <!-- Sản phẩm sẽ được load ở đây -->
                @Html.Action("GetRandomProducts", "Home")
            </div>
            <div class="text-center mt-8">
                <a href="/Products/MenuView" class="bg-green-500 text-black font-bold py-2 px-4 rounded-full hover:bg-green-600 inline-block">
                    Xem thêm
                </a>
            </div>
        </div>

    </section>
    <!-- Sản phẩm -->
    <!-- Swiper Section -->
    <section>
        @Html.Action("OtherProducts", "Home")
    </section>


    <!-- Special Offer -->
    <section class="bg-gray-800 py-12">
        <div class="container mx-auto">
            <h2 class="text-4xl font-bold text-center text-yellow-600 mb-8">
                Khám phá TDeli
            </h2>

            <!-- Swiper -->
            <div class="swiper myCoverflowSwiper w-full max-w-5xl mx-auto">
                @Html.Action("RandomPosts", "Home", new { count = 6 })

                <!-- Pagination -->

            </div>
        </div>
    </section>    
    <!-- Our Location -->
    
    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="bg-gradient-to-b from-brown-700 to-brown-900 text-white">
            <div class="container mx-auto py-16 px-4">
                <div class="flex justify-between items-center">
                    <div class="hidden md:block md:w-1/3">
                        <h1 class="text-5xl mb-4">
                            TDeli Tea
                        </h1>
                        <p class="text-sm mb-4">
                            Nơi bạn tìm thấy sự lắng đọng giữa nhịp sống hối hả.
                            Với không gian ấm cúng, mùi thơm dịu nhẹ từ những lá trà tuyển chọn, TDeli mang đến cho bạn những phút giây thư giãn, tĩnh lặng – như một lời mời nhẹ nhàng để bạn chậm lại, thưởng thức và yêu thương bản thân nhiều hơn.
                        </p>
                        
                    </div>
                    <div class="w-1/3 ml-10">
                        <h2 class="text-xl mb-4">
                            Liên hệ
                        </h2>
                        <p class="text-sm mb-4">
                            Xóm 6, Vị Dương, Dương Hồng Thuỷ, Thái Thuỵ, Thái Bình.
                        </p>
                        <p class="text-sm mb-4">
                            Hotline: 0383468826
                        </p>
                        <p class="text-sm mb-4">
                            Gmail: sevenblue2300@gmail.com
                        </p>
                    </div>
                    <div class="w-1/3 ml-10">
                        <h2 class="text-xl mb-4">
                            Thời gian mở cửa
                        </h2>
                        <p class="text-sm mb-4">
                            Thứ 2 - Thứ 6 : .........7:30 - 21:00
                        </p>
                        <p class="text-sm mb-4">
                            Thứ 7, Ngày lễ : ........6:30 - 22:00
                        </p>
                        <div class="flex space-x-4">
                            <a href="https://www.facebook.com/p/T-Deli-100063582340256/">
                                <i class="fab fa-facebook-f">
                                </i>
                            </a>
                            @{ 
                                string urlYt = "http://www.youtube.com/@tdelitv5209";
                            }
                            <a href="@urlYt">
                                <i class="fab fa-youtube">
                                </i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>

    </footer>
</div>

<script>

    const swiperBanner = new Swiper(".mySwiper", {
        loop: true,
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
       
    });

   

    const myCoverflowSwiper = new Swiper(".myCoverflowSwiper", {
        effect: "coverflow",
        grabCursor: true,
        centeredSlides: true,
        loop: true,
        slidesPerView: "auto",
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
        autoHeight: true,
        coverflowEffect: {
            rotate: 30,
            stretch: 0,
            depth: 100,
            modifier: 1,
            slideShadows: true,
        },
        autoplay: {
            delay: 4000,
            disableOnInteraction: false,
        },
        
    });

  

    function refreshRandomProducts() {
        $('#product-list').load('/Home/GetRandomProducts');
    }

    // Refresh mỗi 10 giây
    setInterval(refreshRandomProducts, 5000);

    $(document).ready(function () {
        $('#search-input').on('input', function () {
            var query = $(this).val();
            if (query.length > 2) {
                $.ajax({
                    url: '/Home/SearchSuggestions',
                    method: 'GET',
                    data: { query: query },
                    success: function (data) {
                        var suggestions = data.suggestions;
                        var suggestionBox = $('#suggestions');
                        suggestionBox.empty();

                        if (suggestions.length > 0) {
                            suggestions.forEach(function (item) {
                                suggestionBox.append(
                                    `<div class="p-2 hover:bg-gray-200 cursor-pointer "
                                    data-type="${item.Type}" data-id="${item.Id}">
                                    ${item.Label}
                                </div>`
                                );
                            });
                            suggestionBox.removeClass('hidden');
                        } else {
                            suggestionBox.addClass('hidden');
                        }
                    }
                });
            } else {
                $('#suggestions').addClass('hidden');
            }
        });

        // 👇 Khi click gợi ý
        $('#suggestions').on('click', 'div', function () {
            var type = $(this).data('type');
            var id = $(this).data('id');
            var text = $(this).text();

            $('#search-input').val(text);
            $('#suggestions').addClass('hidden');

            // 👉 Điều hướng theo loại
            if (type === "product") {
                window.location.href = `/Products/MenuView?productId=${id}`;
            } else if (type === "post") {
                window.location.href = `/Posts/DetailsPost/${id}`;
            }
        });
    });

</script>

